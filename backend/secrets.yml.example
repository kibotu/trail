# Trail Backend Configuration
# Copy this file to secrets.yml and fill in your actual values
# DO NOT commit secrets.yml to version control

# Application Settings
app:
  environment: development
  base_url: https://your-domain.example.com
  rss_title: "Trail - Link Journal"
  rss_description: "Public link journal feed"
  nickname_salt: change_this_to_a_random_string_in_production
  entry_hash_salt: change_this_to_a_random_string_in_production  # Salt for hashing entry IDs in URLs
  max_text_length: 140  # Maximum characters for entries and comments
  max_images_per_entry: 3  # Maximum number of images per entry/comment

# Database Configuration
database:
  host: localhost
  port: 3306
  name: trail_db
  user: trail_user
  password: "your_database_password_here"
  prefix: trail_
  charset: utf8mb4
  collation: utf8mb4_unicode_ci

# FTP Configuration (for deployment)
ftp:
  host: ftp.your-host.example.com
  port: 21
  user: ftp_username
  password: your_ftp_password_here
  remote_path: /

# Google OAuth
google_oauth:
  client_id: 123456789012-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.apps.googleusercontent.com
  client_secret: GOCSPX-xxxxxxxxxxxxxxxxxxxxxxxx
  redirect_uri: https://your-domain.example.com/admin/callback.php

# JWT Configuration
jwt:
  secret: your_256_bit_secret_key_here_at_least_32_characters_long
  expiry_hours: 168  # 7 days

# Security Settings
security:
  rate_limit:
    enabled: true
    requests_per_minute: 180  # Increased for post creation, edit/delete operations
    requests_per_hour: 3000   # Increased for active user sessions
  bot_protection:
    enabled: true
    require_user_agent: true
    block_suspicious_patterns: true

# Development Settings (only used when environment=development)
development:
  dev_users:
    - email: dev@example.com
      name: Dev User
      is_admin: true
    - email: admin@example.com
      name: Admin User
      is_admin: true
    - email: user@example.com
      name: Regular User
      is_admin: false

# Iframely API Configuration
iframely:
  api_key: your_iframely_api_key_here
  api_url: https://iframe.ly/api/iframely

production:
  admin_email: admin@example.com
